Міністерство освіти і науки України
Харківський національний університет радіоелектроніки

Катедра програмної інженерії



ЗВІТ
до лабораторної роботи № 5
з дисципліни «Аналіз та рефакторинґ коду»
на тему: «Розгортання програмної системи та демонстрація її роботи»




     Виконала
     ст. гр. ПЗПІ-23-8
     Бут А. Ю.

     Перевірив
     асистент катедри ПІ
Дашенков Д. С.               



Харків 2025

1 ЗАВДАННЯ

     а) Розгорнути створену програмну систему:
* використовуючи інструменти для розгортання (наприклад, Docker, Kubernetes, хмарні сервіси), розгорнути серверну частину, веб-клієнт, мобільний клієнт та IoT клієнт;
* налаштувати середовище для роботи програмної системи (сервер, база даних, мережеві налаштування).
     б)Перевірити та налаштувати роботу розгорнутої програмної системи:
* провести перевірку стабільності та коректності роботи усіх компонентів програмної системи (серверна частина, IoT клієнт, база даних, API).
* виконати налаштування параметрів серверної частини, клієнтських застосунків та мережевих протоколів для коректної роботи системи.
     в)Продемонструвати описану у розділі 2.2 Vision & Scope функціональність програмної системи:
* описати та продемонструвати всі функції, передбачені в розділі 2.2 Vision & Scope, включаючи бізнес логіку, функції адміністрування та взаємодію між серверною частиною та клієнтами.
* перевірити реалізацію всіх необхідних функціональних можливостей програмної системи.
     
     
     
     
     





2 ОПИС ВИКОНАНОЇ РОБОТИ
     2.1 Розгортання створеної програмної системи
     
     Для розгортання серверної частини програмної системи було обрано безкоштовний хостинг Vercel, який забезпечує зручну інтеграцію з системою контролю версій GitHub та автоматизований процес деплою. Спочатку проєкт було додано до GitHub-репозиторію (див. рис. 2.1), після чого створено обліковий запис у сервісі Vercel і пов’язано його з відповідним репозиторієм. У результаті кожне оновлення коду в репозиторії автоматично ініціює повторне розгортання серверної частини, що спрощує процес підтримки та оновлення системи (див. рис. 2.2). Серверна частина програмної системи доступна за доменним іменем ecofy-beta.vercel.app (див. рис. 2.3)
     

Рисунок 2.1 – Проект на GitHub


Рисунок 2.2 – Результат розгортання серверної частини програмної системи Ecofy на платформі Vercel

Рисунок 2.3 – Swagger-документація Ecofy API за адресою ecofy-beta.vercel.app/docs

     Для зберігання даних програмної системи було обрано Azure Database for PostgreSQL (див. рис. 2.4), що забезпечує надійне зберігання даних, резервне копіювання та масштабованість. Під час розгортання бази даних було створено окремий екземпляр PostgreSQL (див. рис. 2.5), налаштовано параметри доступу та сформовано рядок підключення, який використовується серверною частиною системи.
     

Рисунок 2.4 – Сервер бази даних PostgreSQL у хмарному середовищі Azure


Рисунок 2.5 – Приєднання до сервера Azure Database for PostgreSQ

     2.2 Перевірка та налаштування роботу розгорнутої програмної системи
     
     Перевірка успішності роботи серверної частини програмної системи Ecofy була виконана за допомогою журналів виконання (logs), доступних у середовищі розгортання Vercel. Аналіз логів показав, що всі HTTP-запити до серверу завершуються зі статусом 200 (OK), що свідчить про коректну обробку запитів, стабільне з’єднання та правильну роботу API (див. рис. 2.6).
     

Рисунок 2.6 – Логи виконання HTTP-запитів серверної частини Ecofy у середовищі Vercel

     Наступним етапом було внесення змін до коду IoT-клієнта з метою забезпечення коректної передачі телеметричних даних із сенсорів до серверної частини системи. Зокрема, було додано параметри підключення до API серверу, включаючи URL-адресу та унікальний серійний номер пристрою.
     
1 const char* API_URL = "https://ecofy beta.vercel.app/devices/telemetry";
2 const char* DEVICE_SERIAL = "ESP32_KHARKIV_002";

     Для надсилання телеметрії використовується HTTP-запит типу POST з тілом повідомлення у форматі JSON. Підключення до серверу та надсилання даних реалізовано за допомогою HTTP-клієнта:
     
      
1 HTTPClient http;
2 http.begin(API_URL);
3 http.addHeader("Content-Type", "application/json");

4 int httpCode = http.POST(jsonBody);
5 http.end();

     Перед відправленням формується JSON-об’єкт, який містить дані, зчитані з датчиків IoT-пристрою, зокрема рівень заповнення контейнера, температуру, нахил та рівень заряду батареї:
     
1 StaticJsonDocument<256> json;
2 json["serial_number"] = DEVICE_SERIAL;
3 json["fill_level"] = fill;
4 json["temperature"] = temperature;
5 json["tilted"] = tilted;
6 json["battery_level"] = battery;

7 String jsonBody;
8 serializeJson(json, jsonBody);


     Результат успішної передачі телеметрії з IoT-пристрою до серверної частини підтверджено коректною обробкою запиту без помилок, що демонструє правильну інтеграцію IoT-клієнта з сервером Ecofy (див. рис. 2.7).
     
     
     Рисунок 2.7 – Результат передачі телеметрії до сервера 
     
     Після серіалізації даних та їх надсилання на сервер серверна частина Ecofy приймає телеметрію, зберігає її в базі даних та, за необхідності, ініціює бізнес-процеси, пов’язані з моніторингом стану контейнерів, створенням сповіщень або формуванням заявок на вивіз сміття.
     
     2.3 Демонстрація функціональності програми
     
     Згідно розділу 2.2 Vision & Scope було частково реалізовано функціональність програмної системи, а саме:
     Функції для побутових користувачів (Mobile/ Frontend): 
     Реєстрація та авторизація користувачів. 
     

Рисунок 2.8 – Реєстрація побутового користувача


Рисунок 2.9 – Авторизація побутового користувача

     Перегляд статусу контейнерів. Користувач бачить, чи заповнені контейнери, які типи відходів приймаються, та коли очікується вивіз. 
 
Рисунок 2.10 – Перегляд інформації про контейнерні майданчики 


Рисунок 2.11 – Перегляд статусу контейнерів 

     Рекомендації щодо сортування відходів: підказки щодо правильного сортування різних типів сміття. 
     


Рисунок 2.12 – Перегляд інформації про контейнери за типом відходів
     
     Пошук станцій сортування: відображення найближчих станцій та побудова маршруту до них. 
     
     Рисунок 2.13 – Перегляд розташування контейнерних майданчиків
     
     

     Повідомлення про час вивозу, оновлення статусу контейнерів, нагадування про роздільний збір. 
     

     Рисунок 2.14 – Повідомлення про створення нового контейнерного майданчику


     Рисунок 2.15 – Повідомлення про запланований вивіз сміття

     Функції для муніципальних служб: 
     Реєстрація та авторизація муніципальних служб. 
     
     
     Рисунок 2.16 – Створення адміном нової комунальної служби
     
     
     Рисунок 2.17 – Авторизація комунальної служби 

Перегляд у реальному часі заповнення сміттєвих контейнерів. 


Рисунок 2.18 –  Перегляд інформації про сміттєві контейнери
     Перегляд історії вивозів і технічного обслуговування контейнерів. 

     Рисунок 2.20 – Перегляд історії вивозів сміття
     
     Автоматичні сповіщення про переповнення або несправності контейнерів.
     

Рисунок 2.21 – Сповіщення про переповнення, падіння або горіння контейнеру









      Збір та обробка даних у реальному часі для оптимізації маршрутів вивезення сміття.


     Рисунок 2.22– Створення маршруту вивозу сміття
     
      Формування аналітичних звітів за частотою збору. 

Рисунок 2.23 – Визначення відрізку часу для формування статистики
     

Рисунок 2.24 – Отримання статистики
     
     Автоматична генерація офіційних документів

     Рисунок 2.25 – Акт приймання-передачі відходів 
     
     Функції для приватних компаній.
     Реєстрація компанії та авторизація, заповнення базової інформації (назва, тип діяльності, ліцензія, контактні дані). 

     Рисунок 2.27 – Реєстрація приватної компанії

     Рисунок 2.28 – Авторизація приватної компанії

     MF-21: Подання заявок на вивіз вторсировини з геолокацією. 
     

Рисунок 2.29 – Подання заявки на вивіз відходів

     Доступ до статистики щодо типів і кількості зданих відходів та динаміки за періодами. 
     

     Рисунок 2.30 – Визначення відрізку часу для формування статистики

     Рисунок 2.30 – Отримання статистики

     Інтеграція з муніципальними платформами для узгодження графіків вивозу та обліку відходів. 
     


     Рисунок 2.31– Зміна статусу заявки комунальної служби
     
     
     
     
     
     
     Функції для адміністратора:
     Адміністрування користувачів: управління обліковими записами, ролями та правами доступу. 
     

     Рисунок 2.32 – Перегляд побутових користувачів



     Рисунок 2.33 – Блокування побутових користувачів
     


     Рисунок 2.34 – Перегляд приватних компаній, зареєстрованих у системі

     Налаштування алгоритмів сортування, контроль IoT-пристроїв.. 

     Рисунок 2.35 – Перегляд усіх IoT пристроїв у системі


     Рисунок 2.36 – Створення нового IoT пристроя

     
     Відстеження ефективності сортування, історії операцій для підрозділів

     Рисунок 2.37 – Перегляд статистики приватних компаній


     Рисунок 2.38 – Перегляд статистики комунальних служб







ВИСНОВКИ

     У ході виконання лабораторної роботи було розгорнуто та налаштовано серверну частину програмної системи Ecofy. Для розгортання серверної частини використано хмарну платформу Vercel, а для зберігання даних – Azure Database for PostgreSQL.
     Під час роботи було виконано перевірку коректності функціонування серверної частини, що підтвердило стабільну роботу API та правильну обробку HTTP-запитів. Також було реалізовано інтеграцію IoT-клієнта з сервером Ecofy, що дозволило передавати телеметричні дані з сенсорів у режимі реального часу.
     У межах функціональності реалізовано ключові можливості системи для всіх ролей користувачів: побутових користувачів, муніципальних служб, приватних компаній та адміністратора. 

















ДОДАТОК А

А.1 Відеозвіт до лабораторної роботи: https://youtu.be/m1tab5dHLhQ
А.2 Посилання на GitHub: https://github.com/annabut08/Ecofy



























ДОДАТОК Б
Слайди презентації


Рисунок Б.1 – Титульний слайд


Рисунок Б.2 – Мета роботи




Рисунок Б.3 – Опис програмної системи



Рисунок Б.4 – Огляд виконаної роботи 





Рисунок Б.5 – Опис використаних технологій 



Рисунок Б.6 – Складові IoT клієнта 





Рисунок Б.7 – Розгортання серверної частини 


Рисунок Б.8 – Розгортання бази даних 



Рисунок Б.9 – Результати розгортання та взаємодія IoT з сервером 


Рисунок Б.10 – Висновки 

